<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine‚Äôs Adventure üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#f5eefe;
  font-family:'Press Start 2P', monospace;
}

.console{
  display:flex;
  flex-direction:column;
  align-items:center;
}

.screen{
  width:360px;
  height:520px;
  background:#eaffea;
  border:8px solid #a7dca7;
  border-radius:14px;
  padding:10px;
  position:relative;
  overflow:hidden;
}

.controls{
  margin-top:14px;
  display:flex;
  gap:30px;
}

.control-btn{
  width:60px;
  height:18px;
  background:#b7b7b7;
  border-radius:20px;
  font-size:8px;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
  box-shadow: inset 0 -2px 0 #888;
}

h1,p{
  font-size:11px;
  text-align:center;
  color:#2f5f2f;
}

button{
  font-family:'Press Start 2P', monospace;
  font-size:10px;
  padding:6px 10px;
  border:none;
  border-radius:6px;
  background:#c8facc;
  cursor:pointer;
}

.btn-emoji{
  width:60px;
  height:60px;
  font-size:22px;
  margin:6px;
  background:#d6ffd6;
  border:3px solid #9fd89f;
}

.hidden{display:none;}

#score{
  position:absolute;
  top:6px;
  left:6px;
  font-size:9px;
}

/* Floating hearts */
.heart{
  position:absolute;
  font-size:14px;
  animation:floatUp 3s steps(6) infinite;
  pointer-events:none;
}
@keyframes floatUp{
  from{transform:translateY(40px); opacity:0;}
  50%{opacity:1;}
  to{transform:translateY(-120px); opacity:0;}
}

/* Cat */
.cat{
  position:absolute;
  bottom:10px;
  font-size:18px;
  animation:catWalk 8s steps(8) infinite;
}
@keyframes catWalk{
  from{left:-30px;}
  to{left:380px;}
}

/* Fireworks */
.firework{
  position:absolute;
  font-size:14px;
  animation:boom 0.8s steps(4) forwards;
}
@keyframes boom{
  from{transform:scale(0.3); opacity:1;}
  to{transform:scale(2); opacity:0;}
}

/* No button run away */
#no{
  position:relative;
  transition:transform 0.3s ease;
}
</style>
</head>

<body>

<div class="console">
  <div class="screen">
    <div id="score">Score: 0</div>

    <audio id="bgm" src="valentine.mp3" loop></audio>

    <div id="instructions">
      <h1>Valentine‚Äôs Adventure üéÆ</h1>
      <p>Answer fun questions about your favorites.</p>
      <p>Reach 100 points to unlock a special question!</p>
      <p>(Press START)</p>
    </div>

    <div id="game" class="hidden">
      <h1 id="question"></h1>
      <div id="choices"></div>
      <p id="points">Points: 0</p>
    </div>

    <div id="final" class="hidden">
      <h1>Will you be my Valentine? ‚ù§Ô∏è</h1>
      <button id="yes">Yes üíï</button>
      <button id="no">No üòä</button>
    </div>

    <div id="result" class="hidden">
      <h1 id="message"></h1>
    </div>
  </div>

  <!-- üïπÔ∏è Game Boy Buttons -->
  <div class="controls">
    <div class="control-btn" id="startBtn">START</div>
    <div class="control-btn" id="selectBtn">SELECT</div>
  </div>
</div>

<script>
const questions = [
  {q:"Which chocolate do you like?", o:["üç´","üç¨"], a:"üç´"},
  {q:"Favorite drink?", o:["üçµ","ü•§"], a:"üçµ"},
  {q:"Favorite flower?", o:["üåª","üåπ"], a:"üåª"},
  {q:"Favorite food?", o:["üçó","üçï"], a:"üçó"},
  {q:"Pick one!", o:["üëü","üíê"], a:"üíê"}
];

let score=0, index=0;

const bgm = document.getElementById("bgm");
const screen = document.querySelector(".screen");

document.getElementById("startBtn").onclick = startGame;
document.getElementById("selectBtn").onclick = ()=>location.reload();

function startGame(){
  document.getElementById("instructions").classList.add("hidden");
  document.getElementById("game").classList.remove("hidden");
  bgm.volume=0.4;
  bgm.play();
  loadQuestion();
  spawnHearts();
  spawnCat();
}

function loadQuestion(){
  if(score>=100){
    document.getElementById("game").classList.add("hidden");
    document.getElementById("final").classList.remove("hidden");
    return;
  }
  const q=questions[index%questions.length];
  document.getElementById("question").textContent=q.q;
  const c=document.getElementById("choices");
  c.innerHTML="";
  q.o.forEach(opt=>{
    const b=document.createElement("button");
    b.className="btn-emoji";
    b.textContent=opt;
    b.onclick=()=>{
      if(opt===q.a) score+=20;
      updateScore();
      index++;
      setTimeout(loadQuestion,300);
    };
    c.appendChild(b);
  });
}

function updateScore(){
  document.getElementById("points").textContent="Points: "+score;
  document.getElementById("score").textContent="Score: "+score;
}

function spawnHearts(){
  setInterval(()=>{
    const h=document.createElement("div");
    h.className="heart";
    h.textContent="üíó";
    h.style.left=Math.random()*320+"px";
    h.style.bottom="0";
    screen.appendChild(h);
    setTimeout(()=>h.remove(),3000);
  },900);
}

function spawnCat(){
  const cat=document.createElement("div");
  cat.className="cat";
  cat.textContent="üòº";
  screen.appendChild(cat);
}

document.getElementById("no").onmouseover = ()=>{
  const x=(Math.random()*80)-40;
  const y=(Math.random()*40)-20;
  document.getElementById("no").style.transform=`translate(${x}px,${y}px)`;
};

document.getElementById("yes").onclick=()=>{
  document.getElementById("final").classList.add("hidden");
  document.getElementById("result").classList.remove("hidden");
  document.getElementById("message").textContent="Yay! You just made my day! üíñ";
  fireworks();
};

function fireworks(){
  for(let i=0;i<12;i++){
    const f=document.createElement("div");
    f.className="firework";
    f.textContent="‚ú®";
    f.style.left=Math.random()*300+"px";
    f.style.top=Math.random()*200+"px";
    screen.appendChild(f);
    setTimeout(()=>f.remove(),800);
  }
}
</script>

</body>
</html>
